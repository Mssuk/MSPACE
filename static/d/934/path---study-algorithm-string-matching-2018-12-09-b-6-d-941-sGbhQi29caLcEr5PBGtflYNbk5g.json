{"data":{"site":{"siteMetadata":{"title":"MSPACE","author":"Song Min Suk"}},"markdownRemark":{"id":"012c8146-8868-5dd5-a0e4-b74a447044b7","excerpt":"Substring search N의 길이의 text에서 M 길이의 패턴을 찾아라. Brute - Force Substring Search Naive Algorithm 각각의 text 위치에 대해 패턴과 같은지 찾기. 최악의 경우 (text…","html":"<h3>Substring search</h3>\n<blockquote>\n<p><strong>N의 길이의 text에서 M 길이의 패턴을 찾아라.</strong></p>\n</blockquote>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9d708c6149f953c74e415a3e24e8e766/a4a9f/1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 20.756646216768917%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAABJ0AAASdAHeZh94AAAAjElEQVQY03WP2wrDMAxD+//f2UIpfWjT3C/W5IxsgTFDIsXCB2eRWgFjgFJQcqYUVPby5FVn32dY0hov+fbplwEU52CthfceMUbY5+nvEELX4R3zep7AcUC2Ddh3hOuCYf4GKnldgftGSgkxxA7UYeZ/SwjWmb7lVIs2dDtSPt/Uo/CmGak/Z0CHTtkLdew6StIT640AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"1\"\n        title=\"\"\n        src=\"/static/9d708c6149f953c74e415a3e24e8e766/fb8a0/1.png\"\n        srcset=\"/static/9d708c6149f953c74e415a3e24e8e766/1a291/1.png 148w,\n/static/9d708c6149f953c74e415a3e24e8e766/2bc4a/1.png 295w,\n/static/9d708c6149f953c74e415a3e24e8e766/fb8a0/1.png 590w,\n/static/9d708c6149f953c74e415a3e24e8e766/526de/1.png 885w,\n/static/9d708c6149f953c74e415a3e24e8e766/a4a9f/1.png 978w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>\n<h4><strong>Brute - Force Substring Search</strong></h4>\n<ul>\n<li>\n<p><em>Naive Algorithm</em></p>\n</li>\n<li>\n<p>각각의 text 위치에 대해 패턴과 같은지 찾기. 최악의 경우 (text와 패턴이 반복이 많은 문자일 때) 복잡도 O(MN).</p>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token keyword\">int</span> <span class=\"token function\">naiveStringMatch</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">char</span> text<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">char</span> pattern<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">int</span> patLength<span class=\"token punctuation\">,</span> txtLength<span class=\"token punctuation\">;</span>\n    \n    patLength <span class=\"token operator\">=</span> <span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>pattern<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    txtLength <span class=\"token operator\">=</span> <span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    \n    <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;=</span> txtLength <span class=\"token operator\">-</span> patLength<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> j<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">&lt;</span>patLength<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">[</span>i<span class=\"token operator\">+</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span>pattern<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n                <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span>\n        <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>j <span class=\"token operator\">==</span> patLength<span class=\"token punctuation\">)</span>\n            <span class=\"token keyword\">return</span> i<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/7433fd9e62748ddc7747a4a608d8aaee/1ee05/02.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 60.96491228070175%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABuUlEQVQoz3VSi26jQAzs///gndI2DQmw7weQVIIocWfMNRfugWS867XHHtsv9/tdrterLJBvrbI8nf9lX1aZlwV6kdvtJvxe7viNwyDFO5XctZLakzhjxJteXL+K7TroTkzb6t3QB7rZ7yV4r6ArICqcxhFgXopzEj/2EpsP6Q8H6ZpGzLERBxBzOkmv96P0sPFsAcp7CuE3IH8VFXoYY0qSYpSAs0MCgwoykuRcoC2q76TAp9YqA6SWIgNiGT/P8xMgHj0AvPMKRnA6EiSGqBVkJCJYRlV+t5Pw/gomBxnBbvgfIMEiAnmepgnOgzhrJJ2OEtHbaK2UnLXP4W2ndp4zej9vKAMw+PAA5JmZK+kBvMagQ0p+pZ+QJLy9Sti/qyS0Zsbk/6hwBUwACQDNyM4g9/MHaGLyper0lXYp2tuRLCCMf1DWtYEhYUVItcU0rbEyoKqMzAU0a4prMPxYaceJY0CW72jBpoe6NnAuwWsFAdVE9oYTBjU6D6TPyXK92BKsjUf1pM5JbysE4OVykTPlfF4FCbib1CpP9svnp0wExwaoDXEsaLPYpP3Qsv3U/ku+73+9Pdm/AN8nksX3BvMXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"02\"\n        title=\"\"\n        src=\"/static/7433fd9e62748ddc7747a4a608d8aaee/fb8a0/02.png\"\n        srcset=\"/static/7433fd9e62748ddc7747a4a608d8aaee/1a291/02.png 148w,\n/static/7433fd9e62748ddc7747a4a608d8aaee/2bc4a/02.png 295w,\n/static/7433fd9e62748ddc7747a4a608d8aaee/fb8a0/02.png 590w,\n/static/7433fd9e62748ddc7747a4a608d8aaee/1ee05/02.png 684w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ul>\n<li>\n<p>Improvement</p>\n</li>\n<li>\n<p>Avoid <strong>backup</strong>. </p>\n</li>\n<li>\n<p>나이브한 알고리즘은 미스매치가 일어날 때마다 되돌아간다. linear time algorithm이 필요하다.</p>\n</li>\n</ul>\n<hr>\n</li>\n<li>\n<h4>KMP (Knuth-Morris-Pratt) Algorithm</h4>\n<ul>\n<li>backup을 피하는 알고리즘이다.</li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1ca3833ce65f389698c911ba4a1d1b6b/8f94e/03.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 46.636259977194975%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABJ0AAASdAHeZh94AAABrklEQVQoz12Sy47UMBRE85dILBAfxU/AhgVCYsGGJUICgQQD6kemHdtxXrYT50FPZrooOzAMRCqVfWMd+ZZvtiwLpnHENE2Y5nnzP4r7B//m//7Pv/+v64r4XS4XZCMLQwjonYVrW3jv79X3Hl3XwVKp5tzmfc81z9t4vsP5PBN3S+DdBqyFQLXfwxyP0LpEIRV0aSCV5l6nmqlqlKwZSsfz9YDa3cG6Fedb3g6bsqZzyL9eIf/4CeLbFWShkO8OOJ0kcqFQcK8U4WUFqemFhBINjh+e4fvbR9i9eozDm6c4vHuCof6MrG4dWt7CaQVb0k2Jvm3g6woutdrDsdW/svBhRivfw/x4Qb2E/fIcXryGt3IDxkzGaURg+47Qdr+DJzjCY67W2gTa3DFTZjcsIBfjwlb9z/QoYV6RmcZCmxp106FqWubSo6oaqEOO8lqkCEShUaiY7eYiOnMWVCklBmMw3azwpGf9MBDUoWkt6raDIaA8Cej8Oq0rPoaK2RGU9HDNi1TMP4gCC9/iZgjI4jwFQkOICim71DI91geOyRD9Xv2/+6bByvHiUAKc6V9B/aJfFvGGUwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"03\"\n        title=\"\"\n        src=\"/static/1ca3833ce65f389698c911ba4a1d1b6b/fb8a0/03.png\"\n        srcset=\"/static/1ca3833ce65f389698c911ba4a1d1b6b/1a291/03.png 148w,\n/static/1ca3833ce65f389698c911ba4a1d1b6b/2bc4a/03.png 295w,\n/static/1ca3833ce65f389698c911ba4a1d1b6b/fb8a0/03.png 590w,\n/static/1ca3833ce65f389698c911ba4a1d1b6b/8f94e/03.png 877w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n</li>\n<li>\n<h5><strong>Algorithm with DFA (Deterministic Finite State Automaton)</strong></h5>\n<ul>\n<li>먼저 패턴을 통해 DFA 2차원 배열을 계산해놓아야 한다.</li>\n<li>text pointer의 backup이 없는 알고리즘이다.  복잡도 O(N). </li>\n</ul>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c5c3d17f555ee7fc2595c838c0a7cdb5/cc4aa/04.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 57.65199161425576%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABJ0AAASdAHeZh94AAABwklEQVQoz41SaVPyMBjs//9ljDriOAhCETmbtqQXR6GFsu5G+r4oX8zMM7k3e8TLsgzr9RrWJgiMQcUxZjNcohh/aZfL5Ud5txtN0/w/yMqLwj0WxzFi9gXnxWaDLM+xYV/X9Q9gNa8d6IC11gH0Xl/x1uth8vGBMAyRcL0gSMp+u92iOZ9RVRU2eoDrLYYDPPGVOIrw1u+j+/iI6XiM54cH+IMBwsUCnwTNuB8slzDzOUbDIRLOzWqFjMyfn55g+OiK+2LsNUR3Muhlp9OBoY9nMkjTb2/nBJFE9aqIYLvdDksC6I4UHI9Hx1SWeZz9o6uDL90uepQbBIEr+ScQXS73eyRp6tatXTtGt3KdZJD6gWwiXmyTEojYLCjZmABJkjiPVeXhcAdyG4xXSx5fz0lZKcr0Ay/tyUYl1i5RhqC9lAztNXHJlmR7Deub4RVZgPJCJcB2rDTVyx+VMSFm06mTPZlMMPZ9+KMRhu/vJJbfA7YAv0tnTqcTx5U7o+C0VrdVV27P/UMdEGBZlo6d6vdYAPK23x84eQpKHlf0umYOCsxJlgz5Ik+O1T3DW8lqkf4cAcb8rz7lLik3/Jyiuv6WL3+YloUDn/LjAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"04\"\n        title=\"\"\n        src=\"/static/c5c3d17f555ee7fc2595c838c0a7cdb5/fb8a0/04.png\"\n        srcset=\"/static/c5c3d17f555ee7fc2595c838c0a7cdb5/1a291/04.png 148w,\n/static/c5c3d17f555ee7fc2595c838c0a7cdb5/2bc4a/04.png 295w,\n/static/c5c3d17f555ee7fc2595c838c0a7cdb5/fb8a0/04.png 590w,\n/static/c5c3d17f555ee7fc2595c838c0a7cdb5/526de/04.png 885w,\n/static/c5c3d17f555ee7fc2595c838c0a7cdb5/cc4aa/04.png 954w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token comment\">//patLength = strlen(pattern);</span>\n<span class=\"token keyword\">int</span> <span class=\"token function\">KMP</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">char</span> text<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">int</span> i<span class=\"token punctuation\">,</span> j<span class=\"token punctuation\">,</span> txtLength<span class=\"token punctuation\">;</span>\n  \n  txtLength <span class=\"token operator\">=</span> <span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;=</span> txtLength <span class=\"token operator\">&amp;&amp;</span> j<span class=\"token operator\">&lt;</span> patLength<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n      j <span class=\"token operator\">=</span> DFA<span class=\"token punctuation\">[</span>text<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//text[i] to be modified</span>\n  \n  <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>j <span class=\"token operator\">==</span> patLength<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> i <span class=\"token operator\">-</span> patLength<span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">else</span>\n      <span class=\"token keyword\">return</span> <span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li><strong><em>DFA Construction</em></strong>  : A Linear Time Algorithm</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token comment\">/* 각 state j에 대해:\n\tmatch case 면 DFA[pattern[j]][j] = j+1\n\tmismatch case면 DFA[][X]를 DFA[][j]에 복사\n\tX를 업데이트\n*/</span>\n\n<span class=\"token keyword\">int</span> DFA<span class=\"token punctuation\">[</span>MAX_SIZE<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>MAX_SIZE<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">int</span> R<span class=\"token punctuation\">;</span> <span class=\"token comment\">//text character set size</span>\n\n<span class=\"token keyword\">void</span> <span class=\"token function\">constructDFA</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">char</span> pattern<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">int</span> patLength <span class=\"token operator\">=</span> <span class=\"token function\">strlen</span><span class=\"token punctuation\">(</span>pattern<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  DFA<span class=\"token punctuation\">[</span>pattern<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">1</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> X<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> j<span class=\"token operator\">&lt;</span>patLength<span class=\"token punctuation\">;</span> j<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> c<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> c<span class=\"token operator\">&lt;</span>R<span class=\"token punctuation\">;</span> c<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//copy mismatch cases</span>\n          DFA<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> DFA<span class=\"token punctuation\">[</span>c<span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>X<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      \n      DFA<span class=\"token punctuation\">[</span>pattern<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> j<span class=\"token operator\">+</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// copy match case</span>\n      X <span class=\"token operator\">=</span> DFA<span class=\"token punctuation\">[</span>pattern<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">[</span>X<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//update X</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>\n<p><strong>KMP Algorithm</strong></p>\n<blockquote>\n<p>getFail 함수 ( prefix, suffix 비교하여 같은 개수 구한다)</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span> <span class=\"token function\">getFail</span><span class=\"token punctuation\">(</span>string pattern<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">int</span> m <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span><span class=\"token punctuation\">)</span> pattern<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">int</span> j<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span>\n  vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span> <span class=\"token function\">fail</span><span class=\"token punctuation\">(</span>m<span class=\"token punctuation\">,</span><span class=\"token number\">0</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  \n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span>m<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>j <span class=\"token operator\">></span><span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span>pattern<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span> pattern<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n          j <span class=\"token operator\">=</span> fail<span class=\"token punctuation\">[</span>j<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>pattern<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> pattern<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n          fail<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token operator\">++</span>j<span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">else</span> fail<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> j<span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> fail<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<blockquote>\n<p>kmp 코드 구현</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\">vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span> <span class=\"token function\">kmp</span><span class=\"token punctuation\">(</span>string text<span class=\"token punctuation\">,</span> string pattern<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">{</span>\n  vector<span class=\"token operator\">&lt;</span><span class=\"token keyword\">int</span><span class=\"token operator\">></span> ans<span class=\"token punctuation\">;</span>\n  fail <span class=\"token operator\">=</span> <span class=\"token function\">getFail</span><span class=\"token punctuation\">(</span>pattern<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">//failure function</span>\n  <span class=\"token keyword\">int</span> n <span class=\"token operator\">=</span> text<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> m <span class=\"token operator\">=</span> pattern<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">int</span> j <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// j : index of pattern</span>\n  \n  <span class=\"token keyword\">for</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">int</span> i<span class=\"token operator\">=</span><span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i<span class=\"token operator\">&lt;</span>n<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// i: index of text</span>\n  <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">while</span><span class=\"token punctuation\">(</span>j<span class=\"token operator\">></span><span class=\"token number\">0</span> <span class=\"token operator\">&amp;&amp;</span> text<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">!=</span>pattern<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n          j <span class=\"token operator\">=</span> fail<span class=\"token punctuation\">[</span>j<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>text<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span> <span class=\"token operator\">==</span> pattern<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n      <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">if</span><span class=\"token punctuation\">(</span>j<span class=\"token operator\">==</span>m<span class=\"token operator\">-</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">//pattern matching is found</span>\n          <span class=\"token punctuation\">{</span>   <span class=\"token comment\">//save the matched position</span>\n              ans<span class=\"token punctuation\">.</span><span class=\"token function\">push_back</span><span class=\"token punctuation\">(</span>i<span class=\"token operator\">-</span>j<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n              j <span class=\"token operator\">=</span> fail<span class=\"token punctuation\">[</span>j<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n          <span class=\"token punctuation\">}</span>\n      \t<span class=\"token keyword\">else</span>\n          \tj<span class=\"token operator\">++</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n  <span class=\"token keyword\">return</span> ans<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n</ul>","frontmatter":{"title":"String Matching","date":"December 09, 2018"}}},"pageContext":{"slug":"/study/algorithm/stringMatching/2018-12-09/"}}